document.addEventListener("DOMContentLoaded", () => {

    // Form validation
    if (document.querySelector('.section_contact5')) {
        $("form").each(function (e) {
            $.validator.addMethod("letters", function (value, element) {
                return this.optional(element) || value == value.match(/^[a-zA-Z\s]*$/);
            });
            $.validator.addMethod("customEmail", function (value, element) {
                return (
                    this.optional(element) || /^[^\s@]+@[^\s@]+\.[a-zA-Z]{2,}$/.test(value)
                );
            });
            $(this).validate({
                rules: {
                    name: {
                        required: true,
                    },
                    youremail: {
                        required: true,
                        email: true,
                        customEmail: true, // Add the customEmail validation
                    },
                    message: {
                        required: true,
                    },
                },
                messages: {
                    name:
                        '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16" fill="none"><path d="M0.813836 15.1923C0.658169 15.1923 0.520419 15.1553 0.400586 15.0813C0.280586 15.0072 0.187336 14.9097 0.120836 14.7885C0.0481693 14.6692 0.00816923 14.54 0.000835896 14.401C-0.00633077 14.2618 0.0325859 14.1216 0.117586 13.9803L7.98934 0.40425C8.07434 0.262916 8.17684 0.160167 8.29684 0.0960007C8.41667 0.0320007 8.54709 0 8.68809 0C8.82909 0 8.9595 0.0320007 9.07934 0.0960007C9.19934 0.160167 9.30184 0.262916 9.38684 0.40425L17.2586 13.9803C17.3436 14.1216 17.3825 14.2618 17.3753 14.401C17.368 14.54 17.328 14.6692 17.2553 14.7885C17.1888 14.9097 17.0956 15.0072 16.9756 15.0813C16.8558 15.1553 16.718 15.1923 16.5623 15.1923H0.813836ZM1.13809 14.1923H16.2381L8.68809 1.19225L1.13809 14.1923ZM8.68809 12.8077C8.86242 12.8077 9.00859 12.7488 9.12659 12.6308C9.24459 12.5128 9.30359 12.3666 9.30359 12.1923C9.30359 12.0179 9.24459 11.8717 9.12659 11.7537C9.00859 11.6357 8.86242 11.5768 8.68809 11.5768C8.51375 11.5768 8.36759 11.6357 8.24959 11.7537C8.13159 11.8717 8.07259 12.0179 8.07259 12.1923C8.07259 12.3666 8.13159 12.5128 8.24959 12.6308C8.36759 12.7488 8.51375 12.8077 8.68809 12.8077ZM8.68884 10.5768C8.83067 10.5768 8.94934 10.5288 9.04484 10.433C9.14034 10.3372 9.18809 10.2184 9.18809 10.0768V6.07675C9.18809 5.93508 9.14009 5.81633 9.04409 5.7205C8.94809 5.62467 8.82917 5.57675 8.68734 5.57675C8.5455 5.57675 8.42684 5.62467 8.33134 5.7205C8.23584 5.81633 8.18809 5.93508 8.18809 6.07675V10.0768C8.18809 10.2184 8.23609 10.3372 8.33209 10.433C8.42809 10.5288 8.547 10.5768 8.68884 10.5768Z" fill="var(--color-scheme-1--error)"/></svg> Please enter your name.',
                    youremail:
                        '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16" fill="none"><path d="M0.813836 15.1923C0.658169 15.1923 0.520419 15.1553 0.400586 15.0813C0.280586 15.0072 0.187336 14.9097 0.120836 14.7885C0.0481693 14.6692 0.00816923 14.54 0.000835896 14.401C-0.00633077 14.2618 0.0325859 14.1216 0.117586 13.9803L7.98934 0.40425C8.07434 0.262916 8.17684 0.160167 8.29684 0.0960007C8.41667 0.0320007 8.54709 0 8.68809 0C8.82909 0 8.9595 0.0320007 9.07934 0.0960007C9.19934 0.160167 9.30184 0.262916 9.38684 0.40425L17.2586 13.9803C17.3436 14.1216 17.3825 14.2618 17.3753 14.401C17.368 14.54 17.328 14.6692 17.2553 14.7885C17.1888 14.9097 17.0956 15.0072 16.9756 15.0813C16.8558 15.1553 16.718 15.1923 16.5623 15.1923H0.813836ZM1.13809 14.1923H16.2381L8.68809 1.19225L1.13809 14.1923ZM8.68809 12.8077C8.86242 12.8077 9.00859 12.7488 9.12659 12.6308C9.24459 12.5128 9.30359 12.3666 9.30359 12.1923C9.30359 12.0179 9.24459 11.8717 9.12659 11.7537C9.00859 11.6357 8.86242 11.5768 8.68809 11.5768C8.51375 11.5768 8.36759 11.6357 8.24959 11.7537C8.13159 11.8717 8.07259 12.0179 8.07259 12.1923C8.07259 12.3666 8.13159 12.5128 8.24959 12.6308C8.36759 12.7488 8.51375 12.8077 8.68809 12.8077ZM8.68884 10.5768C8.83067 10.5768 8.94934 10.5288 9.04484 10.433C9.14034 10.3372 9.18809 10.2184 9.18809 10.0768V6.07675C9.18809 5.93508 9.14009 5.81633 9.04409 5.7205C8.94809 5.62467 8.82917 5.57675 8.68734 5.57675C8.5455 5.57675 8.42684 5.62467 8.33134 5.7205C8.23584 5.81633 8.18809 5.93508 8.18809 6.07675V10.0768C8.18809 10.2184 8.23609 10.3372 8.33209 10.433C8.42809 10.5288 8.547 10.5768 8.68884 10.5768Z" fill="var(--color-scheme-1--error)"/></svg> Please specify a valid email address <span class="email-example">(e.g.: user@example.com)</span>',
                    message:
                        '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16" fill="none"><path d="M0.813836 15.1923C0.658169 15.1923 0.520419 15.1553 0.400586 15.0813C0.280586 15.0072 0.187336 14.9097 0.120836 14.7885C0.0481693 14.6692 0.00816923 14.54 0.000835896 14.401C-0.00633077 14.2618 0.0325859 14.1216 0.117586 13.9803L7.98934 0.40425C8.07434 0.262916 8.17684 0.160167 8.29684 0.0960007C8.41667 0.0320007 8.54709 0 8.68809 0C8.82909 0 8.9595 0.0320007 9.07934 0.0960007C9.19934 0.160167 9.30184 0.262916 9.38684 0.40425L17.2586 13.9803C17.3436 14.1216 17.3825 14.2618 17.3753 14.401C17.368 14.54 17.328 14.6692 17.2553 14.7885C17.1888 14.9097 17.0956 15.0072 16.9756 15.0813C16.8558 15.1553 16.718 15.1923 16.5623 15.1923H0.813836ZM1.13809 14.1923H16.2381L8.68809 1.19225L1.13809 14.1923ZM8.68809 12.8077C8.86242 12.8077 9.00859 12.7488 9.12659 12.6308C9.24459 12.5128 9.30359 12.3666 9.30359 12.1923C9.30359 12.0179 9.24459 11.8717 9.12659 11.7537C9.00859 11.6357 8.86242 11.5768 8.68809 11.5768C8.51375 11.5768 8.36759 11.6357 8.24959 11.7537C8.13159 11.8717 8.07259 12.0179 8.07259 12.1923C8.07259 12.3666 8.13159 12.5128 8.24959 12.6308C8.36759 12.7488 8.51375 12.8077 8.68809 12.8077ZM8.68884 10.5768C8.83067 10.5768 8.94934 10.5288 9.04484 10.433C9.14034 10.3372 9.18809 10.2184 9.18809 10.0768V6.07675C9.18809 5.93508 9.14009 5.81633 9.04409 5.7205C8.94809 5.62467 8.82917 5.57675 8.68734 5.57675C8.5455 5.57675 8.42684 5.62467 8.33134 5.7205C8.23584 5.81633 8.18809 5.93508 8.18809 6.07675V10.0768C8.18809 10.2184 8.23609 10.3372 8.33209 10.433C8.42809 10.5288 8.547 10.5768 8.68884 10.5768Z" fill="var(--color-scheme-1--error)"/></svg> Please enter your message.'
                },
                errorPlacement: function (error, element) {
                    error.insertAfter(element); // Ensures errors appear below the correct field
                    setTimeout(() => {
                        error[0].classList.add("show");
                    }, 200);
                },
            });
        });
    }

    // Radio Button
    document.querySelectorAll('.s_cfo_radio_elm').forEach((input) => {
        input.addEventListener('change', () => {
            // Remove selected class from all s_cfo_radio elements
            document.querySelectorAll('.s_cfo_radio').forEach((radio) => {
            radio.classList.remove('selected');
            });

            // Add selected class to the parent .s_cfo_radio of the checked input
            const parent = input.closest('.s_cfo_radio');
            if (parent) {
            parent.classList.add('selected');
            }
        });
    });

});